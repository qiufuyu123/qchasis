#THIS PROGRAM IS ENCRYPTED BY qiufuy
#DO NOT TRY TO REVERSE ENGINEERING!
import base64
lll11ll=exec
lll11l1=base64.b64decode
out="I1B5dGhvbiAzLngKdmVyc2lvbiA9IDMKaW1wb3J0IHN1YnByb2Nlc3MKaW1wb3J0IHN5cwppbXBvcnQgcmVxdWVzdHMKaW1wb3J0IG9zCnRyeToKICAgIGltcG9ydCB5YW1sCmV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgIHByaW50KCdEZXRlY3QgdGhhdCBweXlhbWwgaXMgTk9UIGluc3RhbGxlZCAsIG5vdyBpbnN0YWxsIGl0IScpCiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIHB5eWFtbCcpCiAgICBwcmludCgnRmluaXNoZWQsIFBsZWFzZSByZXN0YXJ0IHRoZSBwcm9ncmFtJykKICAgIG9zLl9leGl0KDApCmRlZiBwcmludGVycihzKToKICAgIHByaW50KCJcMDMzWzA7MzE7NDBtIitzKyJcMDMzWzBtIikKZGVmIHByaW50b2socyk6CiAgICBwcmludCgiXDAzM1swOzMyOzQwbSIrcysiXDAzM1swbSIpCmRlZiBwcmludHdhcm4ocyk6CiAgICBwcmludCgiXDAzM1swOzMzOzQwbSIrcysiXDAzM1swbSIpCmhlYWRlcnMgPSB7CiAgICAiVXNlci1BZ2VudCI6ICJNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTA0LjAuMC4wIFNhZmFyaS81MzcuMzYiLAp9CmRlZiB2ZXJjb2RlKHJlcyk6CiAgICBpZiByZXNbMF09PScvJyBhbmQgcmVzWzFdPT0nKicgYW5kIHJlc1syXT09JyonOgogICAgICAgIHJldHVybiByZXMKICAgIHJldHVybiAiIgpkZWYgZ2V0cHkoKToKICAgIHJlcyA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9xaXVmdXl1MTIzLmdpdGh1Yi5pby9xY2hhc2lzL3FnZW4ucHkiLGhlYWRlcnM9aGVhZGVycykuY29udGVudC5kZWNvZGUoKQogICAgaWYgcmVzWzBdID09ICcjJzoKICAgICAgICByZXR1cm4gcmVzCiAgICByZXR1cm4gJycKZGVmIGdldGRvdGgoKToKICAgIHJlcyA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9xaXVmdXl1MTIzLmdpdGh1Yi5pby9xY2hhc2lzL3FjaGFzaXMuaCIsaGVhZGVycz1oZWFkZXJzKS5jb250ZW50LmRlY29kZSgpCiAgICByZXR1cm4gdmVyY29kZShyZXMpCmRlZiBnZXRkb3RjcHAoKToKICAgIHJlcyA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9xaXVmdXl1MTIzLmdpdGh1Yi5pby9xY2hhc2lzL3FjaGFzaXMuY3BwIixoZWFkZXJzPWhlYWRlcnMpLmNvbnRlbnQuZGVjb2RlKCkKICAgIHJldHVybiB2ZXJjb2RlKHJlcykKZGVmIGdldGNmZygpOgogICAgcmVzID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL3FpdWZ1eXUxMjMuZ2l0aHViLmlvL3FjaGFzaXMvdmVyLnlhbWwiLGhlYWRlcnM9aGVhZGVycykuY29udGVudC5kZWNvZGUoKQogICAgaWYgcmVzWzBdPT0ndicgYW5kIHJlc1sxXSA9PSAnZSc6CiAgICAgICAgcmV0dXJuIHJlcwogICAgcmV0dXJuICcnCmRlZiB2YWxpZGNmZyhzKToKICAgIHJldHVybiAndmVyJyBpbiBzIGFuZCAnd2hlZWxzJyBpbiBzIGFuZCAnbGVmdF9tb3RvcnMnIGluIHMgYW5kICdyaWdodF9tb3RvcnMnIGluIHMKZGVmIHVwZGF0ZXNyYygpOgogICAgcHJpbnQoIltSRUNWXSBxY2hhc2lzLmggLi4uIixlbmQ9JycsZmx1c2g9VHJ1ZSkKICAgIGNvZGVoID0gZ2V0ZG90aCgpCiAgICBpZiBjb2RlaCA9PSAnJzoKICAgICAgICBwcmludGVycignW0ZBSUxdOiBGb3JtYXQgUmVjZWl2ZWQgRXJyb3IhJykKICAgICAgICByZXR1cm4gRmFsc2UKICAgIHByaW50b2soJ1tET05FXScpCiAgICBwcmludCgiW1JFQ1ZdIHFjaGFzaXMuY3BwIC4uLiIsZW5kPScnLGZsdXNoPVRydWUpCiAgICBjb2RlY3BwID0gZ2V0ZG90Y3BwKCkKICAgIGlmIGNvZGVjcHAgPT0gJyc6CiAgICAgICAgcHJpbnRlcnIoJ1tGQUlMXTogRm9ybWF0IFJlY2VpdmVkIEVycm9yIScpCiAgICAgICAgcmV0dXJuIEZhbHNlCiAgICBwcmludG9rKCdbRE9ORV0nKQogICAgdHJ5OgogICAgICAgIHdpdGggb3BlbigncXRlbXBsYXRlL3FjaGFzaXMuaC50JywndycsZW5jb2Rpbmc9J3V0Zi04JywgbmV3bGluZT0nJykgYXMgZjoKICAgICAgICAgICAgZi53cml0ZShjb2RlaCkKICAgICAgICB3aXRoIG9wZW4oJ3F0ZW1wbGF0ZS9xY2hhc2lzLmNwcC50JywndycsZW5jb2Rpbmc9J3V0Zi04JyxuZXdsaW5lPScnKSBhcyBmOgogICAgICAgICAgICBmLndyaXRlKGNvZGVjcHApCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnRlcnIoJ0ZhaWwgdG8gY3JlYXRlKHdyaXRlKSBmaWxlIScpCiAgICAgICAgcmV0dXJuIEZhbHNlCiAgICByZXR1cm4gVHJ1ZQpkZWYgeWVzb3JubygpOgogICAgcmVzID0gaW5wdXQoIlt5L25dKHllcyBvciBubyk6IikKICAgIGlmIHJlcyA9PSAneScgb3IgcmVzID09ICdZJzoKICAgICAgICByZXR1cm4gVHJ1ZQogICAgcmV0dXJuIEZhbHNlCmRlZiBybWRpcmYocyk6CiAgICBmb3Igcm9vdCwgZGlycywgZmlsZXMgaW4gb3Mud2FsayhzLCB0b3Bkb3duPUZhbHNlKToKICAgICAgICBmb3IgbmFtZSBpbiBmaWxlczoKICAgICAgICAgICAgb3MucmVtb3ZlKG9zLnBhdGguam9pbihyb290LCBuYW1lKSkKICAgICAgICBmb3IgbmFtZSBpbiBkaXJzOgogICAgICAgICAgICBvcy5ybWRpcihvcy5wYXRoLmpvaW4ocm9vdCwgbmFtZSkpCiAgICBvcy5ybWRpcihzKQogICAgCmRlZiBiYWNrdXAoKToKICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cygnc3JjL3FjaGFzaXMuY3BwJykgb3Igbm90IG9zLnBhdGguZXhpc3RzKCdpbmNsdWRlL3FjaGFzaXMuaCcpOgogICAgICAgIHJldHVybiBUcnVlCiAgICB0cnk6CiAgICAgICAgd2l0aCBvcGVuKCdzcmMvcWNoYXNpcy5jcHAnLCdyJyxuZXdsaW5lPScnLGVuY29kaW5nPSd1dGYtOCcpIGFzIGY6CiAgICAgICAgICAgIGN0eCA9IGYucmVhZCgpCiAgICAgICAgICAgIHdpdGggb3Blbignc3JjL3FjaGFzaXMuY3BwLmJhaycsJ3cnLG5ld2xpbmU9JycsZW5jb2Rpbmc9J3V0Zi04JykgYXMgZjI6CiAgICAgICAgICAgICAgICBmMi53cml0ZShjdHgpCiAgICAgICAgd2l0aCBvcGVuKCdpbmNsdWRlL3FjaGFzaXMuaCcsJ3InLG5ld2xpbmU9JycsZW5jb2Rpbmc9J3V0Zi04JykgYXMgZjoKICAgICAgICAgICAgY3R4ID0gZi5yZWFkKCkKICAgICAgICAgICAgd2l0aCBvcGVuKCdpbmNsdWRlL3FjaGFzaXMuaC5iYWsnLCd3JyxuZXdsaW5lPScnLGVuY29kaW5nPSd1dGYtOCcpIGFzIGYyOgogICAgICAgICAgICAgICAgZjIud3JpdGUoY3R4KQogICAgICAgIG9zLnJlbW92ZSgnc3JjL3FjaGFzaXMuY3BwJykKICAgICAgICBvcy5yZW1vdmUoJ2luY2x1ZGUvcWNoYXNpcy5oJykKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChlKQogICAgICAgIHByaW50ZXJyKCdGYWlsIHRvIGJhY2t1cCBmaWxlIScpCiAgICAgICAgcmV0dXJuIEZhbHNlCmRlZiBjcmVhdGVlbnYoKToKICAgIHByaW50b2soIk5vdywgc3RhcnQgdG8gZG93bmxvYWQgdGhlIGxhdGVzdCB0ZW1wbGF0ZSBmcm9tIHNlcnZlciIpCiAgICB0cnk6CiAgICAgICAgcm1kaXJmKCdxdGVtcGxhdGUvJykKICAgIGV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvciBhcyBlOgogICAgICAgIHByaW50b2soIkNyZWF0ZSAncXRlbXBsYXRlJyBEaXIiKQogICAgb3MubWtkaXIoJ3F0ZW1wbGF0ZScpCiAgICBpZiBub3QgdXBkYXRlc3JjKCk6CiAgICAgICAgcmV0dXJuIEZhbHNlCiAgICBwcmludCgiW1JFQ1ZdIHZlci55YW1sIC4uLiIsZW5kPScnLGZsdXNoPVRydWUpCiAgICByZXMgPSBnZXRjZmcoKQogICAgcHJpbnRvaygiW0RPTkVdIikKICAgIHRyeToKICAgICAgICB3aXRoIG9wZW4oJ3F0ZW1wbGF0ZS9jaGFzaXMueWFtbCcsJ3cnLG5ld2xpbmU9JycpIGFzIGY6CiAgICAgICAgICAgIGYud3JpdGUocmVzKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHByaW50ZXJyKCJGYWlsIHRvIHdyaXRlIGBjaGFzaXMueWFtbGAiKQogICAgICAgIHJldHVybiBGYWxzZQogICAgY2ZnID0geWFtbC5sb2FkKHJlcyx5YW1sLkZ1bGxMb2FkZXIpCiAgICBwcmludCgiVmFsaWRhdGluZyBjb25maWcgLi4uIixlbmQ9JycsZmx1c2g9VHJ1ZSkKICAgIGlmIG5vdCB2YWxpZGNmZyhjZmcpOgogICAgICAgIHByaW50ZXJyKCdJbnZhbGlkIGNvbmZpZyBmaWxlIGZvcm1hdCEnKQogICAgICAgIHJldHVybiBGYWxzZQogICAgcHJpbnRvaygiW0RPTkVdIikKICAgIHByaW50d2FybigiRGV0ZWN0ZWQgb2xkIGBxY2hhc2lzLmNwcGAgYW5kIGBxY2hhc2lzLmhgLCBcblRvIGNvbnRpbnVlLCBhcmUgeW91IHN1cmUgdG8gZGVsZXRlIHRoZW0/XG5BIGJhY2t1cCBmaWxlIHdpbGwgYmUgY3JlYXRlZCwgZG8gbm90IHdvcnJ5IGFib3V0IGxvc2luZyB5b3VyIGZpbGUuIikKICAgIGlmIG5vdCB5ZXNvcm5vKCk6CiAgICAgICAgcHJpbnRlcnIoJ09wZXJhdGlvbiBBYm9ydCBieSB1c2VyJykKICAgICAgICByZXR1cm4gVHJ1ZQogICAgcHJpbnQoJ0JhY2t1cCBvbGQgcWNoYXNpcyBmaWxlcy4uLicsZW5kPScnLGZsdXNoPVRydWUpCiAgICBiYWNrdXAoKQogICAgcHJpbnRvaygnW0RPTkVdJykKICAgIHJldHVybiBUcnVlCmRlZiBjaGVja2VudigpOgogICAgaWYgKG5vdCBvcy5wYXRoLmV4aXN0cygncXRlbXBsYXRlL2NoYXNpcy55YW1sJykpIG9yIFwKICAgICAgICAobm90IG9zLnBhdGguZXhpc3RzKCdxdGVtcGxhdGUvcWNoYXNpcy5oLnQnKSBvciBcCiAgICAgICAgKG5vdCBvcy5wYXRoLmV4aXN0cygncXRlbXBsYXRlL3FjaGFzaXMuY3BwLnQnKSkpOgogICAgICAgIHJldHVybiBGYWxzZQogICAgcmV0dXJuIFRydWUKCmRlZiBwcm9tcHQoKToKICAgIHByaW50b2soIi0tLS0tLS0tLS0gUS1nZW4gYnkgcWl1ZnV5dSAtLS0tLS0tLS0tIikKICAgIHByaW50KCJBcmcgTGlzdDoiKQogICAgcHJpbnQoIiAgbWFrZSAgIDogIEdlbmVyYXRlIGZyb20gdGVtcGxhdGUiKQogICAgcHJpbnQoIiAgYnVpbGQgIDogIG1ha2UgJiBjb21waWxlIHVzZSBwcm9zIikKICAgIHByaW50KCIgIHVwZGF0ZSA6ICBEb3dubG9hZCBMYXRlc3QgdGVtcGxhdGUgZnJvbSBzZXJ2ZXIiKQogICAgcHJpbnQoIiAgdXBsb2FkIDogIE9OTFkgdXBsb2FkIikKICAgIHByaW50KCIgIHVwZGF0ZWM6ICBVcGRhdGUgcWdlbiBzY3JpcHQiKQogICAgcHJpbnQoIiAgdmVyICAgIDogIFByaW50IHZlcnNpb24gaW5mb3JtYXRpb24iKQoKc2NyaXB0ID0gJycnCkBzZXQgUEFUSD0lUEFUSCU7JVVTRVJQUk9GSUxFJVxcQXBwRGF0YVxcUm9hbWluZ1xcQ29kZVxcVXNlclxcZ2xvYmFsU3RvcmFnZVxcc2lnYm90cy5wcm9zXFxpbnN0YWxsXFxwcm9zLWNsaS13aW5kb3dzCkBzZXQgUFJPU19UT09MQ0hBSU49JVVTRVJQUk9GSUxFJVxcQXBwRGF0YVxcUm9hbWluZ1xcQ29kZVxcVXNlclxcZ2xvYmFsU3RvcmFnZVxcc2lnYm90cy5wcm9zXFxpbnN0YWxsXFxwcm9zLXRvb2xjaGFpbi13aW5kb3dzXFx1c3IKJycnCgpkZWYgbmVlZHVwZGF0ZSgpOgogICAgdHJ5OgogICAgICAgIHdpdGggb3BlbigncXRlbXBsYXRlL2NoYXNpcy55YW1sJywncicsZW5jb2Rpbmc9J3V0Zi04JykgYXMgZjoKICAgICAgICAgICAgcmVzID0gZi5yZWFkKCkKICAgICAgICByZXM9eWFtbC5sb2FkKHJlcyx5YW1sLkZ1bGxMb2FkZXIpCiAgICAgICAgaWYgbm90IHZhbGlkY2ZnKHJlcyk6CiAgICAgICAgICAgIHByaW50KCdCYWQgRm9ybWF0IGZvciBjaGFzaXMueWFtbCEnKQogICAgICAgICAgICByZXR1cm4gMAogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHByaW50ZXJyKCdGYWlsIHRvIGxvYWQgY2hhc2lzLnlhbWwhJykKICAgICAgICByZXR1cm4gMAogICAgY3VyID0gaW50KHJlc1sndmVyJ10pCiAgICBwcmludCgnTG9vayB1cCB1cGRhdGUgaW4gc2VydmVyIC4uLicsZW5kPScnLGZsdXNoPSBUcnVlKQogICAgbmV0ID0gZ2V0Y2ZnKCkKICAgIGlmIG5ldCA9PSAnJzoKICAgICAgICBwcmludGVycignQ2Fubm90IERvd25sb2FkIHJlbW90ZSBjb25maWchJykKICAgICAgICByZXR1cm4gMAogICAgbmV0ID0geWFtbC5sb2FkKG5ldCx5YW1sLkZ1bGxMb2FkZXIpCiAgICBub3cgPSBpbnQobmV0Wyd2ZXInXSkKICAgIHByaW50b2soJ1tET05FXScpCiAgICBwcmludCgnQ3VycmVudCBWZXJzaW9uOiAnK3N0cihjdXIpKycgLCBMYXRlc3QgVmVyc2lvbjogJytzdHIobm93KSkKICAgIGlmIG5vdyA9PSBjdXI6CiAgICAgICAgcmV0dXJuIDAKICAgIHJldHVybiBub3cKCmRlZiBydW5jbWQoY21kKToKICAgIHByaW50KCdHZW5lcmF0ZSBBdXRvIENvbXBpbGUgU2NyaXB0Li4uJyxlbmQ9JycpCiAgICB0cnk6CiAgICAgICAgd2l0aCBvcGVuKCdxbWFrZS5iYXQnLCd3JyxlbmNvZGluZz0ndXRmLTgnLG5ld2xpbmU9JycpIGFzIGY6CiAgICAgICAgICAgIGYud3JpdGUoc2NyaXB0K2NtZCkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludGVycignRmFpbCB0byB3cml0ZSBBdXRvIENvbXBpbGUgU2NyaXB0IScpCiAgICAgICAgcmV0dXJuIEZhbHNlCiAgICBwcmludG9rKCdbRE9ORV0nKQogICAgcHJpbnQoJ1dhaXQgZm9yIFBST1MgQ0xJIHJlc3BvbnNlIC4uLicpCiAgICBpZiBvcy5zeXN0ZW0oJ3FtYWtlLmJhdCcpIT0wOgogICAgICAgIHByaW50ZXJyKCdQUk9TIFByb2Nlc3MgRVJST1IhJykKICAgICAgICByZXR1cm4gRmFsc2UKICAgIGVsc2U6CiAgICAgICAgcHJpbnQoIlN1Y2Nlc3MhIikKICAgIHByaW50KCJDbGVhbiB1cCBlbnZpcm9ubWVudC4uLiAiLGVuZD0nJykKICAgIG9zLnJlbW92ZSgncW1ha2UuYmF0JykKICAgIHJldHVybiBUcnVlCgpkZWYgYnVpbGQoaXNwcm9zKToKICAgIGJhY2t1cCgpCiAgICBwcmludHdhcm4oJyoqKioqKioqKioqKioqKiBRR0VOICoqKioqKioqKioqKioqKicpCiAgICBwcmludCAgICAoJyogQ3JlYXRlZCBCeSBxaXVmdXl1IGZyb20gMTIzQSAgICAgKicpCiAgICBwcmludCAgICAoJyogQ29uZmlnOiBjaGFzaXMueWFtbCBUQVNLOiBCVUlMRCAgKicpCiAgICBwcmludHdhcm4oJyoqKioqKioqKioqKioqKiBRR0VOICoqKioqKioqKioqKioqKicpCiAgICB0cnk6CiAgICAgICAgd2l0aCBvcGVuKCdxdGVtcGxhdGUvY2hhc2lzLnlhbWwnLCdyJyxlbmNvZGluZz0ndXRmLTgnKSBhcyBmOgogICAgICAgICAgICBjZmcgPSB5YW1sLmxvYWQoZi5yZWFkKCkseWFtbC5GdWxsTG9hZGVyKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHByaW50ZXJyKCdGYWlsIHRvIGxvYWQgY2hhc2lzLnlhbWwhJykKICAgICAgICByZXR1cm4gRmFsc2UKICAgIGlmIG5vdCB2YWxpZGNmZyhjZmcpOgogICAgICAgIHByaW50ZXJyKCdCYWQgRm9ybWF0IGluIGNoYXNpcy55YW1sIScpCiAgICAgICAgcmV0dXJuIEZhbHNlCiAgICB0cnk6CiAgICAgICAgd2l0aCBvcGVuKCdxdGVtcGxhdGUvcWNoYXNpcy5oLnQnLCdyJyxlbmNvZGluZz0ndXRmLTgnKSBhcyBmOgogICAgICAgICAgICBjb2RlaCA9IGYucmVhZCgpCiAgICAgICAgd2l0aCBvcGVuKCdxdGVtcGxhdGUvcWNoYXNpcy5jcHAudCcsJ3InLGVuY29kaW5nPSd1dGYtOCcpIGFzIGY6CiAgICAgICAgICAgIGNvZGVjcHAgPSBmLnJlYWQoKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHByaW50KGUpCiAgICAgICAgcHJpbnRlcnIoJ0ZhaWwgdG8gbG9hZCB0ZW1wbGF0ZSBmaWxlJykKICAgICAgICByZXR1cm4gRmFsc2UKICAgIHByaW50KCdHZW5lcmF0ZSBgcWNoYXNpcy5oYCB3aXRoIGBjaGFzaXMueWFtbGAgLi4uJyxlbmQ9JycsZmx1c2g9VHJ1ZSkKICAgIGNvZGVoID0gY29kZWgucmVwbGFjZSgne2x3Zn0nLHN0cihjZmdbJ2xlZnRfbW90b3JzJ11bJ2Zyb250J10pKS5yZXBsYWNlKCd7bHdtfScsc3RyKGNmZ1snbGVmdF9tb3RvcnMnXVsnbWlkJ10pKS5yZXBsYWNlKCd7bHdifScsc3RyKGNmZ1snbGVmdF9tb3RvcnMnXVsnYmFjayddKSkKICAgIGNvZGVoID0gY29kZWgucmVwbGFjZSgne3J3Zn0nLHN0cihjZmdbJ3JpZ2h0X21vdG9ycyddWydmcm9udCddKSkucmVwbGFjZSgne3J3bX0nLHN0cihjZmdbJ3JpZ2h0X21vdG9ycyddWydtaWQnXSkpLnJlcGxhY2UoJ3tyd2J9JyxzdHIoY2ZnWydyaWdodF9tb3RvcnMnXVsnYmFjayddKSkKICAgIGNvZGVoID0gY29kZWgucmVwbGFjZSgne2d5cm99JyxzdHIoY2ZnWydneXJvJ10pKQogICAgd2hlZWxzID0gY2ZnWyd3aGVlbHMnXQogICAgcGlkcyA9IGNmZ1sncGlkcyddCiAgICBjb2RlaCA9IGNvZGVoLnJlcGxhY2UoJ3tycG19JyxzdHIod2hlZWxzWydycG0nXSkpLnJlcGxhY2UoJ3tkaWFtZXRlcn0nLHN0cih3aGVlbHNbJ2RpYW1ldGVyJ10pKS5yZXBsYWNlKCd7dHJhY2t9JyxzdHIod2hlZWxzWyd0cmFjayddKSkKICAgIGNvZGVoID0gY29kZWgucmVwbGFjZSgne2dlYXJudW19JywncHJvczo6RV9NT1RPUl9HRUFSXycrc3RyKHdoZWVsc1snZ2VhciddKS51cHBlcigpKS5yZXBsYWNlKCd7Z2VhcmNvbG9yfScsJ29rYXBpOjpBYnN0cmFjdE1vdG9yOjpnZWFyc2V0OjonK3N0cih3aGVlbHNbJ2dlYXInXSkpCiAgICBjb2RlaCA9IGNvZGVoLnJlcGxhY2UoJ3t0ZWFtfScsY2ZnWyd0ZWFtJ10pCiAgICBjb2RlaCA9IGNvZGVoLnJlcGxhY2UoJ3twaWRzX2RyaXZlX2twfScsc3RyKHBpZHNbJ2RyaXZlJ11bJ2twJ10pKS5yZXBsYWNlKCd7cGlkc19kcml2ZV9rZH0nLHN0cihwaWRzWydkcml2ZSddWydrZCddKSkucmVwbGFjZSgne3BpZHNfZHJpdmVfa3N9JyxzdHIocGlkc1snZHJpdmUnXVsna3MnXSkpCiAgICBjb2RlaCA9IGNvZGVoLnJlcGxhY2UoJ3twaWRzX2FuZ2xlX2twfScsc3RyKHBpZHNbJ2FuZ2xlJ11bJ2twJ10pKS5yZXBsYWNlKCd7cGlkc19hbmdsZV9rZH0nLHN0cihwaWRzWydhbmdsZSddWydrZCddKSkucmVwbGFjZSgne3BpZHNfYW5nbGVfa3N9JyxzdHIocGlkc1snYW5nbGUnXVsna3MnXSkpCiAgICBvdGhlcnMgPSBjZmdbJ290aGVycyddCiAgICBjb2RlaCA9IGNvZGVoLnJlcGxhY2UoJ3tzaG9vdF9kaXN0fScsc3RyKG90aGVyc1snc2hvb3RfZGlzdCddKSkKICAgIGNvZGVoID0gY29kZWgucmVwbGFjZSgne3RyaV9tb3RvcnN9JywnJyBpZiBjZmdbJ3RyaV9tb3RvcnMnXSBlbHNlICcvLycpLnJlcGxhY2UoJ3t0b3dhcmR9JyxzdHIoY2ZnWyd0b3dhcmQnXSkpCiAgICBtb2RlcyA9IGNmZ1snbW9kJ10KICAgIGNvZGVoID0gY29kZWgucmVwbGFjZSgne25lZWRfY2FsaWJ9JywnZmFsc2UnIGlmIG1vZGVzWydkcml2ZV90ZXN0J10gZWxzZSAndHJ1ZScpCiAgICBjb2RlaCA9IGNvZGVoLnJlcGxhY2UoJ3tkaWFnbm99JywndHJ1ZScgaWYgbW9kZXNbJ2RpYWdubyddIGVsc2UgJ2ZhbHNlJykKICAgIHByaW50b2soJ1tET05FXScpCiAgICAKICAgIHByaW50KCdHZW5lcmF0ZSBgcWNoYXNpcy5jcHBgIHdpdGggYGNoYXNpcy55YW1sYCAuLi4nLGVuZD0nJyxmbHVzaD1UcnVlKQogICAgY29kZWNwcCA9IGNvZGVjcHAucmVwbGFjZSgne3RlYW19JyxjZmdbJ3RlYW0nXSkKICAgIHByaW50b2soJ1tET05FXScpCiAgICBwcmludCgnV3JpdGUgdG8gZmlsZSAuLi4nLGVuZD0nJyxmbHVzaD1UcnVlKQogICAgdHJ5OgogICAgICAgIHdpdGggb3Blbignc3JjL3FjaGFzaXMuY3BwJywndycsZW5jb2Rpbmc9J3V0Zi04JyxuZXdsaW5lPScnKSBhcyBmOgogICAgICAgICAgICBmLndyaXRlKGNvZGVjcHApCiAgICAgICAgd2l0aCBvcGVuKCdpbmNsdWRlL3FjaGFzaXMuaCcsJ3cnLGVuY29kaW5nPSd1dGYtOCcsbmV3bGluZT0nJykgYXMgZjoKICAgICAgICAgICAgZi53cml0ZShjb2RlaCkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludGVycignRmFpbCB0byB3cml0ZSB0byBmaWxlJykKICAgICAgICByZXR1cm4gRmFsc2UKICAgIHByaW50b2soJ1tET05FXScpCiAgICBwcmludG9rKCcqKioqKioqKioqKioqKiogUUdFTiBGSU5JU0hFRCAqKioqKioqKioqKioqKionKQogICAgaWYgbm90IGlzcHJvczoKICAgICAgICByZXR1cm4gVHJ1ZQogICAgcnVuY21kKCdAcHJvcyBtYWtlJykKICAgIHByaW50b2soJ1tET05FXScpCiAgICByZXR1cm4gVHJ1ZQoKZGVmIHVwZGF0ZSh2ZXIpOgogICAgaWYgbm90IHVwZGF0ZXNyYygpOgogICAgICAgIHJldHVybiBGYWxzZQogICAgdHJ5OgogICAgICAgIHdpdGggb3BlbigncXRlbXBsYXRlL2NoYXNpcy55YW1sJywncisnLGVuY29kaW5nPSd1dGYtOCcpIGFzIGY6CiAgICAgICAgICAgIGYuc2VlaygwKQogICAgICAgICAgICBmLndyaXRlKCd2ZXI6ICcrc3RyKHZlcikpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoZSkKICAgICAgICBwcmludGVycignRmFpbCB0byBsb2FkIGNoYXNpcy55YW1sIScpCiAgICAgICAgcmV0dXJuIEZhbHNlCiAgICByZXR1cm4gVHJ1ZQogICAgCmRlZiB1cGRhdGVjKCk6CiAgICBwcmludCgiQ2hlY2tpbmcgdXBkYXRlIC4uLiIpCiAgICBzID0gZ2V0Y2ZnKCkKICAgIGlmIHM9PScnOgogICAgICAgIHByaW50ZXJyKCdGYWlsIHRvIGNvbm5ldCB0byBzZXJ2ZXInKQogICAgICAgIHJldHVybiBGYWxzZQogICAgcyA9IHlhbWwubG9hZChzLHlhbWwuRnVsbExvYWRlcikKICAgIGlmIHNbJ2N2ZXInXSA+dmVyc2lvbjoKICAgICAgICBwcmludHdhcm4oJ0hFWSEgQ3VycmVudCBgcWdlbi5weWAgaXMgbm90IFVQLVRPLURBVEUhJykKICAgICAgICBwcmludHdhcm4oJ1JlYWR5IHRvIHVwZGF0ZT8nKQogICAgICAgIGlmIG5vdCB5ZXNvcm5vKCk6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgICAgIHByaW50KCdbUkVDVl0gcWdlbi5weSAuLi4nLGVuZD0nJyxmbHVzaD1UcnVlKQogICAgICAgIG5weSA9IGdldHB5KCkKICAgICAgICBpZiBucHkgPT0gJyc6CiAgICAgICAgICAgIHByaW50ZXJyKCdCYWQgRm9ybWF0IGZvciBxZ2VuLnB5IFJlY2VpdmVkIScpCiAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgICAgIHByaW50b2soJ1tET05FXScpCiAgICAgICAgdHJ5OgogICAgICAgICAgICB3aXRoIG9wZW4oJ3FnZW5fbmV3LnB5JywndycsbmV3bGluZT0nJyxlbmNvZGluZz0ndXRmLTgnKSBhcyBmOgogICAgICAgICAgICAgICAgZi53cml0ZShucHkpCiAgICAgICAgICAgIHdpdGggb3BlbigncW1ha2UuYmF0JywndycsZW5jb2Rpbmc9J3V0Zi04JyxuZXdsaW5lPScnKWFzIGY6CiAgICAgICAgICAgICAgICBmLndyaXRlKCdAZGVsIHFnZW4ucHlcbkBtb3ZlIHFnZW5fbmV3LnB5IHFnZW4ucHlcbkBkZWwgcW1ha2UuYmF0JykKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50ZXJyKCdGYWlsIHRvIHdyaXRlIHRvIHFnZW5fbmV3LnB5JykKICAgICAgICBwcmludCgnRXhlY3V0ZSBhdXRvLXVwZGF0ZSBzY3JpcHQuLi4nKQogICAgICAgIHN1YnByb2Nlc3MuUG9wZW4oJ3FtYWtlLmJhdCcsY3JlYXRpb25mbGFncz1zdWJwcm9jZXNzLkNSRUFURV9ORVdfQ09OU09MRSkKICAgICAgICBzeXMuZXhpdCgpCiAgICBwcmludCgnTm90IG5lY2Nlc3NhcnkgdG8gdXBkYXRlIScpCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBhcmdzID0gc3lzLmFyZ3YKICAgIGFyZ2MgPSBsZW4oYXJncykKICAgIGlmIGFyZ2MgIT0gMjoKICAgICAgICBwcm9tcHQoKQogICAgZWxzZToKICAgICAgICBjbWQgPSBhcmdzWzFdCiAgICAgICAgaWYgY21kID09ICd2ZXInOgogICAgICAgICAgICBwcmludCgnUS1nZW4gdmVyc2lvbjogJytzdHIodmVyc2lvbikrJywgYXV0aG9yOiBxaXVmdXl1JykKICAgICAgICAgICAgc3lzLmV4aXQoKQogICAgICAgIGlmIG5vdCBjaGVja2VudigpOgogICAgICAgICAgICBwcmludGVycigiUXRlbXBsYXRlIEVudmlyb25tZW50IE5vdCBGb3VuZCBpbiBDdXJyZW50IFBhdGgiKQogICAgICAgICAgICBjcmVhdGVlbnYoKQogICAgICAgIGlmIGNtZCA9PSAnYnVpbGQnOgogICAgICAgICAgICBwcmludCgiUmVhZHkgdG8gYnVpbGQgdGVtcGxhdGUgLi4uIikKICAgICAgICAgICAgYnVpbGQoVHJ1ZSkKICAgICAgICBlbGlmIGNtZCA9PSAnbWFrZSc6CiAgICAgICAgICAgIGJ1aWxkKEZhbHNlKQogICAgICAgIGVsaWYgY21kID09ICd1cGRhdGUnOgogICAgICAgICAgICBwcmludCgiUmVhZHkgdG8gY2hlY2sgdmVyc2lvbiAuLi4iKQogICAgICAgICAgICB2ID0gbmVlZHVwZGF0ZSgpCiAgICAgICAgICAgIGlmIHYhPTA6CiAgICAgICAgICAgICAgICBwcmludHdhcm4oJ0hFWSEgQ3VycmVudCBxZ2VuIHZlcnNpb24gaXMgbm90IHVwLXRvLWRhdGUhJykKICAgICAgICAgICAgICAgIHByaW50d2FybignUmVhZHkgdG8gdXBkYXRlPycpCiAgICAgICAgICAgICAgICBpZiB5ZXNvcm5vKCk6CiAgICAgICAgICAgICAgICAgICAgaWYgdXBkYXRlKHYpOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludG9rKCdbRE9ORV0nKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcHJpbnQoJ0N1cnJlbnQgaXMgYWxyZWFkeSB0aGUgbGF0ZXN0IHZlcnNpb24hJykKICAgICAgICBlbGlmIGNtZCA9PSAndXBsb2FkJzoKICAgICAgICAgICAgcnVuY21kKCdAcHJvcyB1cGxvYWQnKQogICAgICAgIGVsaWYgY21kID09ICd1cGRhdGVjJzoKICAgICAgICAgICAgdXBkYXRlYygp"
lll11ll(lll11l1(out).decode())